!function(){function t(){var t=document.createElement("script");t.setAttribute("src","//widget.fitanalytics.com/widget_jq.js"),t.setAttribute("type","text/javascript"),document.body.appendChild(t),e.initialize(),window._fitAnalytics=window._upcload=function(){},window._fitAnalytics.shop=e}if(!window._fitAnalytics){var e={prefix:"myntra-",products:{},isMobile:/iphone|android|iemobile|blackberry/i.test(window.navigator.userAgent)&&("mozInnerScreenX"in window?"onorientationchange"in window&&"ontouchstart"in window:"ontouchstart"in window),el:{productIds:".colors-container a"},elDesktop:{productContainer:"main.pdp-pdp-container > div.pdp-details",currentProductId:'meta[name="description"]',sizes:"#sizeButtonsContainer > div.size-buttons-size-buttons button",addToCart:"div.pdp-action-container > .pdp-add-to-bag",thumbnail:".image-grid-container .image-grid-imageContainer .image-grid-image",sizeChart:".size-buttons-size-chart > button:not(.fitanalytics__button__ABTest)",sizeInfo:".size-buttons-recoContainer .size-buttons-recText",buttonAnchor:".size-buttons-recoContainer"},elMobile:{productContainer:"#mainContent .pdp-main-container",currentProductId:"div.productSupplierContainer .product-code",sizes:".pdp-actions-container ul.sizes-list > li button",addToCart:"div.action-buttons-container button.btn.primary",thumbnail:"div.pdp-product-carousel-ctn .carouselBox:first-child img.img-responsive",sizeChart:".size-chart-button > button:not(.fitanalytics__button__ABTest)",sizeInfo:".recoContainer",buttonAnchor:".recoContainer"},hideSizeChart:!1,funnels:{fita:"sizeAdvisor",control:"sizeChart"},getExperimentFunnel:function(){return e.funnels[e.widget.getExperimentVariant("AB")]},isExperimentActive:function(){return!!e.widget.getExperimentVariant("AB")},initialize:function(){var t=setInterval(function(){e.isLoaded()&&(clearInterval(t),e.onLoaded())},100)},isLoaded:function(){return"function"==typeof window.FitAnalyticsWidget},onLoaded:function(){e.initSelectors(),e.isDataAvailable()&&e.onPageLoaded()},initSelectors:function(){extend(e.el,e["el"+(e.isMobile?"Mobile":"Desktop")])},isDataAvailable:function(){var t=e.getCurrentSerial(),n=e.getSerials();e.getLanguage(),e.getCountry(),e.getSizes(),e.getUserId(),e.getThumbnail();return!(!t||!n.length)},query:function(t){return Array.prototype.slice.call(document.querySelectorAll(e.el.productContainer+" "+t)||[])},find:function(t){return e.getContainer().find(t)},getContainer:function(){return e.$(e.el.productContainer)},getProductName:function(){return(window.dataLayer.filter(function(t){return t.productDisplayName}).shift()||{}).productDisplayName},getCurrentRawSerial:function(){var t=o(window,"__myx__.pdpData.id");if(t)return t;var n=document.querySelector(e.el.currentProductId),i=n&&(e.isMobile?n.textContent:n.getAttribute("content")).split(":")||[];return i[1]?i[1].trim():null},getCurrentSerial:function(){var t=e.getCurrentRawSerial();return t&&e.prefix+t},getRawSerials:function(){var t=e.getCurrentRawSerial(),n=e.query(e.el.productIds),i=/\/(\d+)\/buy$/,o=n.map(function(t){var e=t.href;return(i.exec(e)||[]).pop()});return o.push(t),o=o.filter(function(t){return t})},getSerials:function(){return e.getRawSerials().map(function(t){return e.prefix+t})},getSizes:function(){var t=[];return t.dic={},t.state={},e.query(e.el.sizes).forEach(function(n){var o=i(n.textContent||""),r=!n.classList.contains(e.isMobile?"disabled":"size-buttons-size-button-disabled");o&&(t.state[o]=r,r&&(t.push(o),t.dic[o]=n))}),t},getLanguage:function(){var t=document.documentElement;return(t.getAttribute("lang")||t.getAttribute("xml:lang")||"").trim().substring(0,2).toLowerCase()},getCountry:function(){return"IN"},getThumbnail:function(){if(e.isMobile)return(e.query(e.el.thumbnail)[0]||{src:""}).src;var t=e.query(e.el.thumbnail);return o(t,"0.style.backgroundImage","").replace(/url\("|"\)/g,"")},getUserId:function(){return o(window,"__myx_session__.userHashId")||""},getSizeChart:function(){return e.find(e.el.sizeChart)},getSizeInfo:function(){return e.find(e.el.sizeInfo)},getContext:function(t){return e.products[t]},setContext:function(t,n){return e.products[t]=e.$.extend(e.products[t],n)},sendEvent:function(t){var n={pageView:"PDP - 3P size recommendation prompt on PDP",open:"PDP - 3P size recommendation click on Find Size",recommendation:"PDP - 3P size recommended"},i={pageView:"widgetLoad",open:"widgetClick",recommendation:"widgetLoad"},o=i[t],r=n[t];if(o&&r){var a=e.getCurrentRawSerial(),s=e.getProductName(),u={event_type:o,event_category:"PDP",payload:{custom:{v1:"fitanalytics"},screen:{name:"Shopping Page-PDP/"+window.location.pathname,url:window.location.href,variant:"web",data_set:{entity_type:"product",entity_name:s,entity_id:a}}}};window.Madalytics.sendRaw(r,u)}},onPageLoaded:function(){e.loadWidget(),e.requestProducts(),e.getSizeChart().on("click.fita",function(){e.widget.meterClick("sizeChart",{garmentId:e.getCurrentSerial()})})},loadWidget:function(){e.widget=new window.FitAnalyticsWidget({language:e.getLanguage(),shopCountry:e.getCountry(),userId:e.getUserId(),userHeightUnits:"imperial",userWeightUnits:"metric",userBraSystem:"US",load:function(){},recommend:function(t,n,i){e.recommend(t,n,i)},cart:function(t,i,o){e.recommend(t,i,o),n(e.getSizes().dic[i]),n(e.find(e.el.addToCart))},close:function(t,n,i){e.recommend(t,n,i)},open:function(){Object.keys(e.products).forEach(function(t){(e.products[t]||{}).recommendation=null}),e.sendEvent("open")}}),e.$=e.widget.jquery},requestProducts:function(){e.collectProducts();var t=Object.keys(e.products);e.widget.requestProducts(t,function(t){t.forEach(function(t){e.setContext(t.garment.serial,{isSupported:!0})}),e.checkForProductChange()})},collectProducts:function(){e.getSerials().forEach(function(t){e.setContext(t,{isSupported:!1})})},recommend:function(t,n,i){e.addRecommendationToContext(t,n,i),e.button.setText(n,i),e.button.isValidSize(n,i)&&e.sendEvent("recommendation")},addRecommendationToContext:function(t,n,i){e.setContext(t,{recommendation:{size:n,details:i}})},checkForProductChange:function(){!function(){var t;setInterval(function(){var n=e.getCurrentSerial();t!==n&&(t=n)&&e.onProductChange()},200)}()},onProductChange:function(){e.getSizeChart().off("click.fita").on("click.fita",function(){e.widget.meterClick("sizeChart",{garmentId:e.getCurrentSerial()})}),e.reconfigure()},reconfigure:function(){var t=e.getCurrentSerial();t&&e.getContext(t);e.widget.reconfigure({productId:t},e.onProductLoaded,e.onProductLoaded)},onProductLoaded:function(){if(e.isExperimentActive())return void e.ABTest.install();var t=e.getContext(e.getCurrentSerial());t&&t.isSupported?(e.installButton(t),e.sendEvent("pageView")):(e.button.hide(),e.getSizeChart().show(),e.getSizeInfo().show())},installButton:function(t){e.button.install(),t.recommendation?e.button.setText(t.recommendation.size,t.recommendation.details):(t.recommendation=!0,e.getRecommendation()),e.hideSizeChart&&e.getSizeChart().hide(),e.getSizeInfo().hide(),e.button.show()},getRecommendation:function(){e.widget.getRecommendation({productId:e.getCurrentSerial(),thumb:e.getThumbnail(),manufacturedSizes:e.getSizes().state})},button:{elementId:"fitanalytics__button",isValidSize:function(t,n){return!("string"!=typeof t||!e.getSizes().state[t]||n.outOfStock||n.outOfRange)},text:{en:[["Not sure about what size to buy?","Find My Size",""],["We recommend ","Size {size}"," for you."]]},getText:function(t,n){var i=this.isValidSize(t,n),o=this.text[e.getLanguage()]||this.text.en,r=i?o[1]:o[0];return r[1]=r[1].replace(/\{size\}/,t),r},setText:function(t,e){var n=this.getText(t,e),i=this.isValidSize(t,e),o=this.find();o.find(".fitanalytics__button-pre").text(n[0]),o.find(".fitanalytics__button-text").text(n[1]).css("margin-left",i?"0":"7px"),o.find(".fitanalytics__button-post").text(n[2])},buildButton:function(){var t=this.getText();return e.$("<span></span>").attr({id:this.elementId}).css({cursor:"auto","margin-left":"0",padding:e.isMobile?"0 18px 18px":"0",display:"block",width:"auto"}).append(e.$("<span></span>").attr({class:"fitanalytics__button-pre"}).css({display:"inline","font-size":e.isMobile?"13px":"14px",color:"#3e4152"}).text(t[0])).append(e.$("<a></a>").attr({class:"fitanalytics__button-text"}).css({display:"inline","margin-left":"7px","font-size":e.isMobile?"13px":"14px","font-weight":"600",color:"#ff3e6c",cursor:"pointer"}).on("click",this.onClick).text(t[1])).append(e.$("<span></span>").attr({class:"fitanalytics__button-post"}).css({display:"inline","font-size":e.isMobile?"13px":"14px",color:"#3e4152"}).text(t[2]))},isInitialized:!1,show:function(){this.find().show()},hide:function(){this.find().hide()},find:function(){return e.find("#"+this.elementId)},onClick:function(){return e.widget.meterClick("sizeAdvisor"),e.widget.open({productId:e.getCurrentSerial(),thumb:e.getThumbnail(),manufacturedSizes:e.getSizes().state}),!1},install:function(){if(!this.find().length){var t=this.buildButton();e.find(e.el.buttonAnchor)[e.isMobile?"after":"before"](t)}}},ABTest:{$sizeAdvisor:null,$sizeChart:null,install:function(){var t=e.getExperimentFunnel(),n=e.find(e.el.sizeChart),i=e.getCurrentSerial(),o=e.getContext(i);e.widget.metricEvent("abInternalTest",t),e.find(".fitanalytics__button__ABTest").length||(this.$sizeChart=n.clone(!0,!0).addClass("fitanalytics__button__ABTest").off("click.fita").on("click.fita",function(){e.widget.meterABTestSizeChartOpen(t),n.click()}).text("Size Guide"),this.$sizeAdvisor=n.clone(!0,!0).addClass("fitanalytics__button__ABTest").css("cursor","pointer").removeAttr("href").off("click.fita").on("click.fita",e.button.onClick).text("Size Guide"),n.after(this.$sizeAdvisor).after(this.$sizeChart)),o&&o.isSupported?(n.hide(),e.getSizeInfo().hide(),this.setup(t),"sizeAdvisor"===t&&e.sendEvent("pageView")):(e.$(".fitanalytics__button__ABTest").hide(),n.show(),e.getSizeInfo().show())},setup:function(t){this.$sizeChart["sizeChart"===t?"show":"hide"](),this.$sizeAdvisor["sizeAdvisor"===t?"show":"hide"]()}}},n=function(t){return!(!t||!e.$)&&(t instanceof e.$||(t=e.$(t)),"function"==typeof t.prop&&"OPTION"===t.prop("tagName")?t.parent().val(t.val()).change():e.isMobile&&"function"==typeof t.tap?t.click():"function"==typeof t.click&&t.click(),t)},i=function(t){return"string"!=typeof t?"":t.replace(/^["'\s\uFEFF\xA0]+|[\s\uFEFF\xA0"']+$/g,"")},o=function(t,e,n){null==n&&(n=null),"."===e&&(e="");for(var i="[object Array]"===Object.prototype.toString.apply(e)?e:e.split("."),o=0,r=i.length;o<r;o++){var a=t[i[o]];if(null==a)return n;t=a}return a};extend=function(t,e){for(var n in e)t[n]=e[n];return t},"interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",function(){t()})}}();